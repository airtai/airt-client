
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python client for airt-service">
      
      
        <meta name="author" content="airt.ai">
      
      
        <link rel="canonical" href="https://airtai.github.io/airt-client/CLI_Helper/">
      
      
      
      <link rel="icon" href="../overrides/images/airt_icon_blue.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>CLI_Helper - airt</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../overrides/css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-H6EV08GRK5"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-H6EV08GRK5",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-H6EV08GRK5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  
  
    
  
  
  <meta property="og:type" content="website" />
  <meta property="og:title" content="airt - CLI_Helper" />
  <meta property="og:description" content="Python client for airt-service" />
  <meta property="og:url" content="https://airtai.github.io/airt-client/CLI_Helper/" />
  <meta property="og:image" content="https://opengraph.githubassets.com/1671820337.584456/airtai/airt-client" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="airt - CLI_Helper" />
  <meta name="twitter:description" content="Python client for airt-service" />
  <meta name="twitter:image" content="https://opengraph.githubassets.com/1671820337.584456/airtai/airt-client" />

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="light-blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cli_helper" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="airt" class="md-header__button md-logo" aria-label="airt" data-md-component="logo">
      
  <img src="../overrides/images/airt_icon_blue.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            airt
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CLI_Helper
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/airtai/airt-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    airt-client
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="airt" class="md-nav__button md-logo" aria-label="airt" data-md-component="logo">
      
  <img src="../overrides/images/airt_icon_blue.svg" alt="logo">

    </a>
    airt
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/airtai/airt-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    airt-client
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Python client for airt service
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../airt_api_docs/airt/client/" class="md-nav__link">
        airt.client
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          CLI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../airt_cli_docs/airt/" class="md-nav__link">
        airt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        Releases
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requires_auth_token" class="md-nav__link">
    requires_auth_token
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#humanize_date" class="md-nav__link">
    humanize_date
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#humanize_number" class="md-nav__link">
    humanize_number
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#humanize_size" class="md-nav__link">
    humanize_size
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get_example_for_type" class="md-nav__link">
    get_example_for_type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get_example_output_format" class="md-nav__link">
    get_example_output_format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customize_output_format" class="md-nav__link">
    customize_output_format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#separate_integers_and_strings" class="md-nav__link">
    separate_integers_and_strings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#echo_formatted_output" class="md-nav__link">
    echo_formatted_output
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#display_formated_table" class="md-nav__link">
    display_formated_table
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requires_totp" class="md-nav__link">
    requires_totp
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get_phone_registration_status" class="md-nav__link">
    get_phone_registration_status
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="cli_helper">CLI_Helper<a class="headerlink" href="#cli_helper" title="Permanent link">¤</a></h1>
<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">StringIO</span>

<span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">import</span> <span class="nn">airt._sanitizer</span>
<span class="kn">from</span> <span class="nn">airt._constant</span> <span class="kn">import</span> <span class="n">SERVICE_PASSWORD</span>
</code></pre></div>
<p>Context Managers and custom decorator</p>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L41"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="requires_auth_token">requires_auth_token<a class="headerlink" href="#requires_auth_token" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> requires_auth_token (func)
</code></pre></div>
</blockquote>
<p>Helper Functions</p>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L78"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="humanize_date">humanize_date<a class="headerlink" href="#humanize_date" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> humanize_date (s:pandas.core.series.Series)
</code></pre></div>
</blockquote>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L88"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="humanize_number">humanize_number<a class="headerlink" href="#humanize_number" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> humanize_number (s:pandas.core.series.Series)
</code></pre></div>
</blockquote>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L94"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="humanize_size">humanize_size<a class="headerlink" href="#humanize_size" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> humanize_size (s:pandas.core.series.Series)
</code></pre></div>
</blockquote>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L100"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="get_example_for_type">get_example_for_type<a class="headerlink" href="#get_example_for_type" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> get_example_for_type (xs:pandas.core.series.Series)
</code></pre></div>
</blockquote>
<p>Get example output for the given series</p>
<p>Args: xs: Input series</p>
<p>Returns: The valid formatting example for the series</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="s2">&quot;€</span><span class="si">{:,.2f}</span><span class="s2">&quot;</span>
<span class="n">actual</span> <span class="o">=</span> <span class="n">get_example_for_type</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;float_column&quot;</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:,d}</span><span class="s2">&quot;</span>
<span class="n">actual</span> <span class="o">=</span> <span class="n">get_example_for_type</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;int_column&quot;</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span>
<span class="n">actual</span> <span class="o">=</span> <span class="n">get_example_for_type</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;string_column&quot;</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;€{:,.2f}&#39;

&#39;{:,d}&#39;

&#39;{}&#39;
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L117"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="get_example_output_format">get_example_output_format<a class="headerlink" href="#get_example_output_format" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> get_example_output_format (df:pandas.core.frame.DataFrame)
</code></pre></div>
</blockquote>
<p>Get example output format for the dataframe</p>
<p>Args: df: Input dataframe</p>
<p>Returns: The example output format for the dataframe</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">actual</span> <span class="o">=</span> <span class="n">get_example_output_format</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>

<span class="n">expected</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="s2">&quot;€</span><span class="si">{:,.2f}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,d}</span><span class="s2">&quot;</span><span class="p">}</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>{&#39;float_column&#39;: &#39;€{:,.2f}&#39;, &#39;string_column&#39;: &#39;{}&#39;, &#39;int_column&#39;: &#39;{:,d}&#39;}
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L129"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="customize_output_format">customize_output_format<a class="headerlink" href="#customize_output_format" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> customize_output_format (format_str:str, df:pandas.core.frame.DataFrame)
</code></pre></div>
</blockquote>
<p>Customize output format</p>
<p>Args: format_str: A dict mapping of column names into their python
format df: Input dataframe</p>
<p>Returns: The formatted pandas DataFrame</p>
<p>Raises: Error: If the formatting string is not a valid python expression
Error: If invalid column name is passed Error: If invalid formatting
string is passed Error: If wrong formatting is passed for a column</p>
<div class="highlight"><pre><span></span><code><span class="n">format_str</span> <span class="o">=</span> <span class="s2">&quot;asd&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5020304</span><span class="p">,</span> <span class="mi">1305060</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">customize_output_format</span><span class="p">(</span><span class="n">format_str</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Not a valid python expression: asd
An example of a valid formatting string: {&#39;float_column&#39;: &#39;€{:,.2f}&#39;, &#39;string_column&#39;: &#39;{}&#39;, &#39;int_column&#39;: &#39;{:,d}&#39;}
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">format_str</span> <span class="o">=</span> <span class="s2">&quot;{&#39;wrong_column&#39;: &#39;</span><span class="si">{:,.2f}</span><span class="s2">&#39;}&quot;</span>
<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">customize_output_format</span><span class="p">(</span><span class="n">format_str</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>The following columns are not valid: {&#39;wrong_column&#39;}. Only the following columns are valid: {&#39;int_column&#39;, &#39;string_column&#39;, &#39;float_column&#39;}
An example of a valid formatting string: {&#39;float_column&#39;: &#39;€{:,.2f}&#39;, &#39;string_column&#39;: &#39;{}&#39;, &#39;int_column&#39;: &#39;{:,d}&#39;}
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5020304</span><span class="p">,</span> <span class="mi">1305060</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">format_str</span> <span class="o">=</span> <span class="s2">&quot;{&#39;float_column&#39;: &#39;</span><span class="si">{:,d}</span><span class="s2">&#39;}&quot;</span>
<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">customize_output_format</span><span class="p">(</span><span class="n">format_str</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Formatting is wrong for float_column: {:,d}
An example of a valid formatting string: {&#39;float_column&#39;: &#39;€{:,.2f}&#39;, &#39;string_column&#39;: &#39;{}&#39;, &#39;int_column&#39;: &#39;{:,d}&#39;}
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5020304</span><span class="p">,</span> <span class="mi">1305060</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">format_str</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;{&#39;float_column&#39;: &#39;€</span><span class="si">{:,.2f}</span><span class="s2">&#39;, &#39;string_column&#39;: &#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;int_column&#39;: &#39;</span><span class="si">{:,d}</span><span class="s2">&#39;}&quot;</span>
<span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">customize_output_format</span><span class="p">(</span><span class="n">format_str</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;float_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">123.4567</span><span class="p">,</span> <span class="mf">234.5678</span><span class="p">],</span>
        <span class="s2">&quot;string_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">],</span>
        <span class="s2">&quot;int_column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5020304</span><span class="p">,</span> <span class="mi">1305060</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">format_str</span> <span class="o">=</span> <span class="s2">&quot;{&#39;float_column&#39;: &#39;€</span><span class="si">{:,.2f}</span><span class="s2">&#39;}&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">customize_output_format</span><span class="p">(</span><span class="n">format_str</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">df</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&#10;    .dataframe tbody tr th {
        vertical-align: top;
    }
&#10;    .dataframe thead th {
        text-align: right;
    }
</style>

|     | float_column |
|-----|--------------|
| 0   | €123.46      |
| 1   | €234.57      |

</div>

<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L188"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="separate_integers_and_strings">separate_integers_and_strings<a class="headerlink" href="#separate_integers_and_strings" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> separate_integers_and_strings (xs:List[str])
</code></pre></div>
</blockquote>
<p>Seperate integers and strings from the list of strings</p>
<p>Args: xs: List containing string inputs</p>
<p>Returns: A list containing the integers and strings</p>
<div class="highlight"><pre><span></span><code><span class="n">_str</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span><span class="p">]</span>
<span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span><span class="p">]</span>

<span class="n">actual</span> <span class="o">=</span> <span class="n">separate_integers_and_strings</span><span class="p">(</span><span class="n">_str</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
<span class="n">actual</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>[0, 10, 20, &#39;abc&#39;]
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L200"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="echo_formatted_output">echo_formatted_output<a class="headerlink" href="#echo_formatted_output" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> echo_formatted_output (df:pandas.core.frame.DataFrame)
</code></pre></div>
</blockquote>
<p>Echo the formatted output to the terminal</p>
<p>Args: df: Input DataFrame</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test context manager for capturing the output printed to stdout</span>
<span class="c1"># This function to test typer outputs</span>
<span class="k">class</span> <span class="nc">Capturing</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stdout</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stringio</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stringio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stringio</span>  <span class="c1"># free up some memory</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stdout</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>

<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="n">echo_formatted_output</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="s2">&quot;a    b&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&quot;[&#39;  a    b&#39;, &#39;  1    4&#39;, &#39;  2    5&#39;, &#39;  3    6&#39;]&quot;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="n">echo_formatted_output</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="s2">&quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]&quot;
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L213"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="display_formated_table">display_formated_table<a class="headerlink" href="#display_formated_table" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> display_formated_table (func)
</code></pre></div>
</blockquote>
<p>A decorator function to format the CLI table output</p>
<div class="highlight"><pre><span></span><code><span class="nd">@display_formated_table</span>
<span class="k">def</span> <span class="nf">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]})</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;df&quot;</span><span class="p">:</span> <span class="n">df</span><span class="p">}</span>


<span class="c1"># Negative scenario: Testing with invalid format</span>
<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;{&#39;uuid&#39;: asd}&quot;</span>
    <span class="n">quiet</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">)</span>

<span class="c1"># Positive scenario: Setting format to valid format to only one column and quiet = False</span>
<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;{&#39;uuid&#39;: &#39;</span><span class="si">{}</span><span class="s2">&#39;}&quot;</span>
    <span class="n">quiet</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]&quot;</span>

<span class="c1"># Positive scenario: Setting format to valid format and quiet=False</span>
<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;{&#39;name&#39;: &#39;</span><span class="si">{}</span><span class="s2">&#39;, &#39;uuid&#39;: &#39;</span><span class="si">{}</span><span class="s2">&#39;}&quot;</span>
    <span class="n">quiet</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="s2">&quot;&#39;name      uuid&#39;&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

<span class="c1"># Positive scenario: Setting format=None and quiet=False</span>
<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">quiet</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="s2">&quot;&#39;  uuid  name&#39;&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

<span class="c1"># Positive scenario: Setting format=None and quiet=True</span>
<span class="k">with</span> <span class="n">Capturing</span><span class="p">()</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">quiet</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">test_display_formated_table</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">))</span>
<span class="k">assert</span> <span class="s2">&quot;&#39;1&#39;&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Not a valid python expression: {&#39;uuid&#39;: asd}
An example of a valid formatting string: {&#39;uuid&#39;: &#39;{:,d}&#39;, &#39;name&#39;: &#39;{}&#39;}

&quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]&quot;

&quot;[&#39;name      uuid&#39;, &#39;a            1&#39;, &#39;b            2&#39;, &#39;None         3&#39;]&quot;

&quot;[&#39;  uuid  name&#39;, &#39;     1  a&#39;, &#39;     2  b&#39;, &#39;     3  &lt;none&gt;&#39;]&quot;

&quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]&quot;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">set_airt_service_token_envvar</span><span class="p">():</span>

    <span class="nd">@requires_totp_or_otp</span><span class="p">(</span><span class="n">message_template_name</span><span class="o">=</span><span class="s2">&quot;test_message_template_name&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">otp</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">otp</span>

    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">Exception</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">foo</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="n">foo</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&lt;ExceptionInfo Exit() tblen=2&gt;
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L351"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="requires_totp">requires_totp<a class="headerlink" href="#requires_totp" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> requires_totp (no_retries:int=3)
</code></pre></div>
</blockquote>
<p>A decorator function to prompt users to enter a valid totp</p>
<div class="highlight"><pre><span></span><code><span class="nd">@requires_totp</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">otp</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">otp</span>


<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">Exception</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="n">foo</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="n">foo</span><span class="p">(</span><span class="n">otp</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&lt;ExceptionInfo Exit() tblen=2&gt;

1.0
</code></pre></div>
<hr />
<p><a
href="https://github.com/airtai/airt-client/blob/main/airt/_cli/helper.py#L399"
target="_blank" style="float:right; font-size:smaller">source</a></p>
<h3 id="get_phone_registration_status">get_phone_registration_status<a class="headerlink" href="#get_phone_registration_status" title="Permanent link">¤</a></h3>
<blockquote>
<div class="highlight"><pre><span></span><code> get_phone_registration_status (xs:Dict[str,Union[str,bool]])
</code></pre></div>
</blockquote>
<p>Get the phone number registration status</p>
<p>Args: xs: A dict containing the user details</p>
<p>Returns: None, if the user phone number is registred and validated.
Else, a message containing the current state of the phone number
registration process.</p>
<div class="highlight"><pre><span></span><code><span class="n">xs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;random_username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;random_user@mail.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subscription_type&quot;</span><span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span>
    <span class="s2">&quot;super_user&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;is_mfa_active&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;phone_number&quot;</span><span class="p">:</span> <span class="s2">&quot;441111111111&quot;</span><span class="p">,</span>
    <span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;disabled&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-09-14T08:54:54&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">actual</span> <span class="o">=</span> <span class="n">get_phone_registration_status</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>None
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">xs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;random_username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;random_user@mail.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subscription_type&quot;</span><span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span>
    <span class="s2">&quot;super_user&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;is_mfa_active&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;phone_number&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;disabled&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-09-14T08:54:54&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">actual</span> <span class="o">=</span> <span class="n">get_phone_registration_status</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="n">PHONE_REGISTRATION_STATUS</span><span class="p">[</span><span class="s2">&quot;not_registered&quot;</span><span class="p">]</span>

<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;\n\nPlease take a moment to register and verify your phone number. If you forget your password or cannot access your account, you can request the OTP to your registered phone number to regain access. \nTo register a new phone number, please set the token in the AIRT_SERVICE_TOKEN environment variable and execute the below command with your phone number and follow the on-screen instructions:\n\nairt user register-phone-number --phone-number&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">xs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;random_username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;first_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-username&quot;</span><span class="p">,</span>
    <span class="s2">&quot;last_name&quot;</span><span class="p">:</span> <span class="s2">&quot;random-&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;random_user@mail.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;subscription_type&quot;</span><span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span>
    <span class="s2">&quot;super_user&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;is_mfa_active&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;phone_number&quot;</span><span class="p">:</span> <span class="mi">441111111111</span><span class="p">,</span>
    <span class="s2">&quot;is_phone_number_verified&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;disabled&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-09-14T08:54:54&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">actual</span> <span class="o">=</span> <span class="n">get_phone_registration_status</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
<span class="n">expected</span> <span class="o">=</span> <span class="n">PHONE_REGISTRATION_STATUS</span><span class="p">[</span><span class="s2">&quot;not_validated&quot;</span><span class="p">]</span>

<span class="n">display</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&#39;\n\nYour phone number is added to your account but not yet verified. Please take a moment to register and verify your phone number. If you forget your password or cannot access your account, you can request the OTP to your registered phone number to regain access. \nTo register a new phone number, please set the token in the AIRT_SERVICE_TOKEN environment variable and execute the below command with your phone number and follow the on-screen instructions:\n\nairt user register-phone-number\n\nIn case you want to register a new number, please execute the below command with your new phone number:\n\nairt user register-phone-number --phone-number&#39;
</code></pre></div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2022 onwards, airt.ai
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
    and 
    <a href="https://nbdev-mkdocs.airt.ai/" target="_blank" rel="noopener">
      Material for nbdev
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../overrides/js/extra.js"></script>
        
      
        
          <script src="../overrides/js/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  </body>
</html>